'use client'

// React Imports
import { useEffect, useRef } from 'react'

// Third-party Imports
import styled from '@emotion/styled'

// Component Imports
import MaterializeLogo from '@core/svg/ARLogo'

// Config Imports
import themeConfig from '@configs/themeConfig'

// Hook Imports
import useVerticalNav from '@menu/hooks/useVerticalNav'
import { useSettings } from '@core/hooks/useSettings'

const LogoText = styled.span`
  font-size: 1.25rem;
  line-height: 1.2;
  font-weight: 600;
  letter-spacing: 0.15px;
  text-transform: capitalize;
  color: var(--mui-palette-text-primary);
  color: ${({ color }) => color ?? 'var(--mui-palette-text-primary)'};
  transition: ${({ transitionDuration }) =>
    `margin-inline-start ${transitionDuration}ms ease-in-out, opacity ${transitionDuration}ms ease-in-out`};

  ${({ isHovered, isCollapsed, isBreakpointReached }) =>
    !isBreakpointReached && isCollapsed && !isHovered
      ? 'opacity: 0; margin-inline-start: 0;'
      : 'opacity: 1; margin-inline-start: 8px;'}
`

const Logo = ({ color }) => {
  // Refs
  const logoRef = useRef(null)
  const logoTextRef = useRef(null)

  // Hooks
  const { isHovered, transitionDuration, isBreakpointReached } = useVerticalNav()
  const { settings } = useSettings()

  // Vars
  const { layout } = settings

  useEffect(() => {
    if (layout !== 'collapsed') {
      return
    }

    if (logoTextRef && logoTextRef.current) {
      if (!isBreakpointReached && layout === 'collapsed' && !isHovered) {
        logoTextRef.current?.classList.add('hidden')
      } else {
        logoTextRef.current.classList.remove('hidden')
      }
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isHovered, layout, isBreakpointReached])

  return (
    <div className='flex items-center min-bs-[24px] logo-section'>
      <MaterializeLogo
        isHovered={isHovered}
        isCollapsed={layout === 'collapsed'}
        isBreakpointReached={isBreakpointReached}
      />
      <LogoText
        color={color}
        ref={logoRef}
        isHovered={isHovered}
        isCollapsed={layout === 'collapsed'}
        transitionDuration={transitionDuration}
        isBreakpointReached={isBreakpointReached}
      >
        <svg
          version='1.1'
          id='Layer_1'
          xmlns='http://www.w3.org/2000/svg'
          xmlnsXlink='http://www.w3.org/1999/xlink'
          x='0px'
          y='0px'
          // viewBox='0 0 294 49'
          // width={30}
          width={130}
          viewBox='0 0 294 49'
          // style={{ enableBackground: 'new 0 0 294 49' }}
          style={{ enableBackground: 'new 0 0 294 49', position: 'relative', right: -26, display: 'flex' }}
          xmlSpace='preserve'
        >
          <style type='text/css'>
            {`
                .st0 { fill: #FFFFFF; }
                .st1 { fill: #F7B032; }
              `}
          </style>
          <g>
            <g className='sub'>
              <g>
              <path class="st0" d="M66.44,6.11c-0.19-0.2-0.41-0.36-0.66-0.48c-0.25-0.12-0.52-0.17-0.81-0.17c-0.3,0-0.58,0.06-0.84,0.17
		c-0.26,0.11-0.49,0.27-0.68,0.48c-0.19,0.2-0.35,0.44-0.47,0.71s-0.18,0.56-0.18,0.88c0,0.31,0.06,0.6,0.18,0.87
		c0.12,0.26,0.27,0.5,0.47,0.69c0.2,0.2,0.42,0.35,0.68,0.47c0.26,0.12,0.54,0.17,0.84,0.17c0.28,0,0.55-0.06,0.81-0.17
		c0.25-0.12,0.47-0.27,0.66-0.47c0.19-0.2,0.34-0.43,0.45-0.69C67,8.31,67.06,8.02,67.06,7.7c0-0.31-0.06-0.61-0.17-0.88
		S66.63,6.32,66.44,6.11z"/>
	<path class="st0" d="M63.17,21.97c0,1.1-0.36,2.02-1.07,2.75c-0.6,0.63-1.27,0.94-2.03,0.94h-3.43h-1.31
		c-1.11,0-2.02-0.39-2.75-1.16c-0.73-0.79-1.12-1.86-1.19-3.22v-8.75h-3.43v8.32c0,1.58-0.4,2.8-1.21,3.67
		c-0.71,0.76-1.65,1.14-2.81,1.14c-1.11,0-2.02-0.39-2.75-1.16c-0.81-0.87-1.21-2.09-1.21-3.65v-8.32h-3.41v8.32
		c0,1.58-0.41,2.8-1.23,3.67c-0.72,0.76-1.65,1.14-2.81,1.14c-1.11,0-2.02-0.39-2.75-1.16c-0.53-0.57-0.89-1.3-1.07-2.18v-9.79H25.3
		l0,13.25c0,2.75-0.73,4.9-2.18,6.47c-1.39,1.48-3.21,2.22-5.44,2.22c-2.18,0-3.97-0.75-5.36-2.26c-1.46-1.56-2.18-3.71-2.18-6.43
		c0-0.8,0.06-1.56,0.18-2.26c0.1-0.71,0.26-1.36,0.47-1.96l-2.69-0.71c-0.27,0.75-0.47,1.53-0.58,2.35c-0.13,0.83-0.2,1.69-0.2,2.59
		c0,3.29,0.94,5.96,2.83,8c2.08,2.26,4.6,3.39,7.55,3.39c3.39,0,6.12-1.11,8.19-3.33c1.82-2.49,2.04-4.8,2.48-6.64
		c1.17,0.78,2.57,1.16,4.19,1.16c2.31,0,4.17-0.75,5.58-2.26l0.16-0.18l0.16,0.16c1.4,1.52,3.24,2.28,5.52,2.28
		c2.31,0,4.17-0.75,5.58-2.26l0.15-0.16l0.14,0.14c1.39,1.51,3.21,2.27,5.46,2.28v0h0.06h1.31h3.43c1.89,0,3.47-0.67,4.76-2.02
		c1.17-1.23,1.76-2.68,1.76-4.37v-9.45h-3.41V21.97z"/>
	<path class="st0" d="M58.36,9.27c0.2,0.2,0.42,0.35,0.67,0.47c0.25,0.12,0.52,0.17,0.81,0.17c0.29,0,0.56-0.06,0.82-0.17
		c0.26-0.12,0.49-0.27,0.68-0.47c0.2-0.2,0.35-0.43,0.46-0.69c0.11-0.27,0.16-0.55,0.16-0.87c0-0.31-0.06-0.61-0.16-0.88
		c-0.11-0.27-0.26-0.51-0.46-0.71c-0.19-0.2-0.42-0.36-0.68-0.48c-0.26-0.12-0.53-0.17-0.82-0.17c-0.29,0-0.56,0.06-0.81,0.17
		c-0.25,0.11-0.48,0.27-0.67,0.48c-0.19,0.2-0.35,0.44-0.47,0.71c-0.12,0.27-0.18,0.56-0.18,0.88c0,0.31,0.06,0.6,0.18,0.87
		C58.01,8.84,58.17,9.07,58.36,9.27z"/>
	<path class="st0" d="M92.23,9.26c0.19,0.2,0.42,0.35,0.67,0.47c0.25,0.12,0.52,0.17,0.81,0.17c0.28,0,0.56-0.06,0.82-0.17
		c0.26-0.11,0.49-0.27,0.68-0.47c0.19-0.2,0.35-0.43,0.46-0.69c0.11-0.26,0.16-0.55,0.16-0.87c0-0.31-0.06-0.61-0.16-0.88
		c-0.11-0.27-0.26-0.51-0.46-0.71c-0.2-0.2-0.42-0.36-0.68-0.48C94.27,5.52,94,5.46,93.72,5.46c-0.29,0-0.56,0.06-0.81,0.17
		c-0.25,0.12-0.48,0.28-0.67,0.48c-0.2,0.2-0.35,0.44-0.47,0.71c-0.12,0.27-0.18,0.56-0.18,0.88c0,0.31,0.06,0.6,0.18,0.87
		C91.88,8.84,92.04,9.07,92.23,9.26z"/>
	<path class="st0" d="M98.53,21.97c0,1.1-0.36,2.02-1.07,2.75c-0.6,0.63-1.27,0.94-2.03,0.94h-4.8h-1.37h-1.92v-12.2
		c0-1.58-0.94-2.8-2.83-3.65c-1.35-0.63-2.89-0.94-4.6-0.94h-0.06c-3,0.01-5.36,0.96-7.06,2.84c-1.55,1.73-2.32,4.07-2.32,7.02
		c0,2.76,0.8,5,2.4,6.73c1.77,1.93,4.09,2.9,6.96,2.9h3.84c-0.09,0.99-0.36,1.95-0.82,2.86c-0.32,0.63-0.78,1.31-1.36,2.04
		c-0.56,0.71-1.24,1.45-2.05,2.22l2.26,1.67c0.88-0.84,1.64-1.67,2.28-2.47c0.69-0.86,1.24-1.69,1.64-2.49
		c0.67-1.18,1.15-2.46,1.42-3.84h2.21h1.37h4.8c1.89,0,3.47-0.67,4.76-2.02c1.17-1.23,1.76-2.68,1.76-4.37v-9.45h-3.41V21.97z
		 M83.94,25.68h-4.09v-0.02c-1.7,0-3.1-0.59-4.19-1.78c-1.17-1.25-1.76-2.97-1.76-5.16c0-2.39,0.57-4.22,1.7-5.47
		c1.03-1.14,2.45-1.71,4.27-1.71h0.06c1.09,0,2.05,0.19,2.89,0.57c0.76,0.34,1.13,0.79,1.13,1.35V25.68z"/>
	<path class="st0" d="M128.63,15.05h-3.41c-1.42-0.02-2.42-0.67-3.07-1.98c-0.25-0.49-0.37-0.9-0.37-1.22
		c0-0.32,0.09-0.72,0.82-0.95c0.2-0.06,0.39-0.09,0.56-0.09c0.24,0,0.96,0,1.46,1.46l0.11,0.32l3.97-0.91l-0.18-0.41
		c-1.12-2.52-2.87-3.86-5.2-3.97c-1.91,0-3.39,0.58-4.4,1.72c-0.64,0.73-0.98,1.57-1.03,2.48c-0.01,0.12-0.02,0.25-0.02,0.37
		c0,0.75,0.18,1.5,0.54,2.24c0.19,0.41,0.35,0.72,0.47,0.94h-1.66v3.84h11.39V15.05z"/>
	<path class="st0" d="M153.26,32.73c-0.22-0.24-0.48-0.43-0.78-0.57c-0.62-0.28-1.35-0.27-1.96,0c-0.3,0.14-0.57,0.33-0.8,0.56
		c-0.22,0.23-0.4,0.51-0.54,0.82c-0.14,0.32-0.2,0.66-0.2,1.02c0,0.36,0.07,0.7,0.21,1.02c0.14,0.31,0.32,0.58,0.54,0.8
		c0.23,0.23,0.5,0.42,0.8,0.55c0.31,0.14,0.64,0.21,0.99,0.21c0.34,0,0.66-0.07,0.96-0.21c0.3-0.14,0.56-0.32,0.78-0.55
		c0.22-0.23,0.39-0.5,0.52-0.81c0.13-0.31,0.19-0.65,0.19-1.01c0-0.36-0.06-0.7-0.19-1.02C153.66,33.24,153.48,32.97,153.26,32.73z"
		/>
	<path class="st0" d="M148.16,32.73c-0.23-0.24-0.5-0.43-0.8-0.56c-0.62-0.27-1.33-0.27-1.93,0c-0.3,0.14-0.56,0.33-0.79,0.56
		c-0.22,0.24-0.41,0.51-0.54,0.82c-0.14,0.32-0.2,0.66-0.2,1.02c0,0.36,0.07,0.7,0.21,1.02c0.13,0.3,0.32,0.58,0.54,0.8
		c0.23,0.23,0.49,0.41,0.78,0.55c0.3,0.14,0.62,0.21,0.97,0.21c0.34,0,0.66-0.07,0.97-0.21c0.3-0.13,0.57-0.32,0.8-0.55
		c0.23-0.23,0.41-0.51,0.54-0.81c0.13-0.31,0.19-0.65,0.19-1.01c0-0.36-0.06-0.7-0.19-1.02C148.57,33.24,148.39,32.96,148.16,32.73z
		"/>
	<path class="st0" d="M151.39,21.97c0,0.9-0.28,1.62-0.85,2.21c-0.45,0.47-0.94,0.7-1.49,0.7h-4.42h-5.58h-0.95V5.49h-4.94v19.4
		h-16.02c-1.61,0-2.82-0.47-3.7-1.45c-1-1.09-1.5-2.75-1.5-4.93c0-0.59,0.04-1.13,0.13-1.61c0.09-0.49,0.27-1.09,0.54-1.78
		l0.15-0.38l-4.15-1.24l-0.13,0.32c-0.35,0.88-0.59,1.69-0.72,2.42c-0.12,0.74-0.18,1.5-0.18,2.26c0,3.14,0.85,5.68,2.51,7.55
		c1.85,2.05,4.41,3.08,7.63,3.08h21.33h5.58h4.42c2.09,0,3.87-0.76,5.3-2.26c1.31-1.37,1.97-3.02,1.97-4.91V11.75h-4.94V21.97z"/>
	<path class="st0" d="M211.12,15.9c-1.83-1.33-4.27-2.01-7.26-2.01H188.1c0,0-0.29-4.22,3.95-4.22h2.79h2.18h14.17V5.42h-17.46
		c-4.45,0-6.74,1.11-7.89,2.02c-1.77,1.73-2.63,4.1-2.7,6.61l0.02,4.08h20.69c1.81,0,3.18,0.33,4.07,0.97
		c0.76,0.56,1.13,1.37,1.13,2.48c0,0.97-0.38,1.71-1.17,2.27c-0.97,0.69-2.32,1.03-4,1.03h-13.35h-8.33h-5.11V13.46
		c0-1.91-1.1-3.37-3.28-4.36c-1.45-0.67-3.1-1.01-4.98-1.01c-3.21,0.01-5.78,1.05-7.63,3.08c-1.67,1.87-2.51,4.41-2.51,7.55
		c0,2.95,0.88,5.4,2.61,7.27c1.9,2.08,4.42,3.14,7.51,3.14h2.97c-0.11,0.51-0.32,1.08-0.64,1.72c-0.3,0.58-0.73,1.22-1.27,1.9
		c-0.55,0.68-1.33,1.52-2.35,2.5l-0.32,0.3l4.5,1.59l0.23-0.22c1.05-1.02,1.59-1.75,1.59-1.75c0.73-0.9,1.31-1.78,1.71-2.6
		c0.66-1.15,1.13-2.31,1.38-3.44h5.55h8.33h13.35c2.86,0,5.26-0.67,7.14-2.01c1.97-1.4,2.96-3.27,2.96-5.54
		C214,19.2,213.03,17.28,211.12,15.9z M172.16,24.9h-2.57l-0.37-0.02c-1.74,0-3.1-0.52-4.03-1.53c-1.02-1.09-1.54-2.65-1.54-4.62
		c0-2.18,0.51-3.84,1.5-4.94c0.88-0.99,2.09-1.47,3.76-1.47c0.98,0,1.85,0.17,2.58,0.5c0.31,0.14,0.68,0.37,0.68,0.64V24.9z"/>
	<path class="st0" d="M188.1,13.89c0.05-0.66,0.24-1.25,0.56-1.78C188.08,13.04,188.1,13.89,188.1,13.89z"/>
              </g>
            </g>
          </g>
        </svg>
      </LogoText>
    </div>
  )
}

export default Logo
